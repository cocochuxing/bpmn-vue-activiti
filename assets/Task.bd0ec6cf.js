var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,t=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,r=(e,r)=>{for(var n in r||(r={}))a.call(r,n)&&o(e,n,r[n]);if(l)for(var n of l(r))t.call(r,n)&&o(e,n,r[n]);return e};import{F as n,E as s,D as i,g as p,C as c}from"./common.d25c9b87.js";import{P as u}from"./PrefixLabelSelect.d8fa9789.js";import{c as d,G as m,b,e as v,B as C}from"./index.26fee642.js";import"./vendor.f867c041.js";const f=p({name:"任务监听器",eventOptions:[{label:"创建",value:"create"},{label:"签收",value:"assignment"},{label:"完成",value:"complete"},{label:"删除",value:"delete"},{label:"全部",value:"all"}]}),h=[{label:"用户1",value:"p1"},{label:"用户2",value:"p2"},{label:"用户3",value:"p3"},{label:"用户4",value:"p4"},{label:"用户5",value:"p5"},{label:"用户6",value:"p6"},{label:"用户7",value:"p7"}],S={name:"人员设置",icon:"el-icon-user-solid",properties:{assignee:{component:u,prefixTitle:"处理人",vSlots:{default:()=>h.map((e=>d(m,e,null)))}},candidateUsers:{component:u,prefixTitle:"候选人",multiple:!0,vSlots:{default:()=>h.map((e=>d(m,e,null)))}},loopCardinality:{component:b,placeholder:"循环基数",type:"number",vSlots:{prepend:()=>d("div",null,[v("循环基数")])},predicate:e=>e.loopCharacteristics,getValue(e){var a;const l=e.loopCharacteristics;return l?null==(a=l.loopCardinality)?void 0:a.body:""},setValue(e,a,l){const t=C,o=t.getModeler().get("moddle"),r=e.loopCharacteristics;r.loopCardinality=o.create("bpmn:FormalExpression",{body:l}),t.getModeling().updateProperties(t.getShape(),{loopCharacteristics:r})}},completionCondition:{component:b,placeholder:"如：${nrOfCompletedInstances/nrOfInstances >= 0.25} 表示完成数大于等于4分1时任务完成",vSlots:{prepend:()=>d("div",null,[v("完成条件")])},predicate:e=>e.loopCharacteristics,getValue(e){var a;const l=e.loopCharacteristics;return l?null==(a=l.completionCondition)?void 0:a.body:""},setValue(e,a,l){const t=C,o=t.getModeler().get("moddle"),r=e.loopCharacteristics;r.completionCondition=o.create("bpmn:FormalExpression",{body:l}),t.getModeling().updateProperties(t.getShape(),{loopCharacteristics:r})}}}},g=[{label:"无",value:"Null"},{label:"并行多重事件",value:"Parallel"},{label:"时序多重事件",value:"Sequential"},{label:"循环事件",value:"StandardLoop"}],y=r(r({},c),{properties:r(r({},c.properties),{loopCharacteristics:{component:u,prefixTitle:"回路特性",vSlots:{default:()=>g.map((e=>d(m,e,null)))},getValue(e){const a=e.loopCharacteristics;return a?"bpmn:MultiInstanceLoopCharacteristics"===a.$type?a.isSequential?"Sequential":"Parallel":"StandardLoop":"Null"},setValue(e,a,l){const t=C.getShape(),o=C.getModeling();switch(l){case"Null":o.updateProperties(t,{loopCharacteristics:null});break;case"StandardLoop":C.createElement("bpmn:StandardLoopCharacteristics","loopCharacteristics");break;default:C.createElement("bpmn:MultiInstanceLoopCharacteristics","loopCharacteristics",{isSequential:"Sequential"===l})}return()=>C.refresh()}}})}),T=[y,n,f,s,i];var k={"bpmn:Task":T,"bpmn:UserTask":[y,S,f,n,s,i],"bpmn:ReceiveTask":T,"bpmn:SendTask":T,"bpmn:ManualTask":T,"bpmn:BusinessRuleTask":T,"bpmn:ServiceTask":T,"bpmn:ScriptTask":T,"bpmn:CallActivity":T};export default k;export{S as BpmnUserGroupProperties};
